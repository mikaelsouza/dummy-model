schema: '2.0'
stages:
  prepare:
    cmd: python dummy-model/prepare.py data/raw/titanic-dataset.csv data/prepared
    deps:
    - path: data/raw/titanic-dataset.csv
      md5: 7c34ccdb277f3abf9751a1f650960508
      size: 29474
    - path: dummy-model/prepare.py
      md5: 18f1be6231c07e96c07b28d58cd299ea
      size: 994
    params:
      params.yaml:
        prepare.seed: 42
        prepare.test_size: 0.2
    outs:
    - path: data/prepared/
      md5: 507289d16f802c9dbc632836815e8726.dir
      size: 17530
      nfiles: 2
  featurize:
    cmd: python dummy-model/featurize.py data/prepared data/featurized
    deps:
    - path: data/prepared/test.parquet
      md5: ed7219470b766eb7cf026355bd43cd73
      size: 7630
    - path: data/prepared/train.parquet
      md5: 89d2a007ca1577d032cbda01f5738354
      size: 9900
    - path: dummy-model/featurize.py
      md5: 7c0a95a9afc2edca741a5fbba1ed00b4
      size: 1494
    params:
      params.yaml:
        featurize.seed: 42
    outs:
    - path: data/featurized
      md5: 0e0e32dbadf86d58bfa6dc6e1a1013be.dir
      size: 17894
      nfiles: 2
  train:
    cmd: python dummy-model/train.py data/featurized models/artifacts
    deps:
    - path: data/featurized/test.parquet
      md5: dfc7634b574392fa9e6e81a0d67db25b
      size: 7815
    - path: data/featurized/train.parquet
      md5: 268e4b07b20196b54a75cd2a391a1e0d
      size: 10079
    - path: dummy-model/train.py
      md5: 3b0c22a14da55c36a309fd9b04aa2c57
      size: 1147
    params:
      params.yaml:
        train.min_split: 0.01
        train.n_est: 100
        train.seed: 42
    outs:
    - path: models/artifacts/
      md5: e216a7c9299f4041d4cd640b331c565f.dir
      size: 35907
      nfiles: 1
  evaluate:
    cmd: python dummy-model/evaluate.py models/artifacts/model.joblib data/featurized/
    deps:
    - path: data/featurized/test.parquet
      md5: dfc7634b574392fa9e6e81a0d67db25b
      size: 7815
    - path: data/featurized/train.parquet
      md5: 268e4b07b20196b54a75cd2a391a1e0d
      size: 10079
    - path: dummy-model/evaluate.py
      md5: 11ad332f95e098073893c382ec5724de
      size: 1670
    - path: models/artifacts/model.joblib
      md5: 8ec2e8f1ffc7e5b2180916d992ec66f5
      size: 35907
    outs:
    - path: eval/live/metrics.json
      md5: a5d1473c2d9452ea7db0c83c71846f69
      size: 165
    - path: eval/live/plots
      md5: 422200e2525ed80ad37e6b3a1e6d032d.dir
      size: 44460
      nfiles: 6
